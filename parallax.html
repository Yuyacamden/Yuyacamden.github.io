<!DOCTYPE html>
<html lang ="ja">
<head>
	<meta charset="UTF-8">
	<title>jQueryパララックスサイト</title>
	<!-- <script src="jquery-1.11.0.js"></script> -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
		integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
	
	<!--ここからCSS-->
	<style>
			body {		/*ウィンドウ高さを指定*/
				margin:0;
				padding:0;
				height:1600px;
			}
			.box {
				padding:0;
				margin:0;
				height:1200px;
			}
			#graphic1 { background: url('kbsdm2.jpg') no-repeat; }
			#graphic2 { background: url('helsta.jpg') no-repeat; }
			#graphic3 { background: url('rpgwood.jpg') no-repeat; }
			#msg {
				font-size: 48px;
				font-weight: normal;
				font-family:Gill Sans, Helvetica, sans-serif;
				opacity: 0;
				position: fixed;
			}
	</style>
	<!--ここまでCSS-->
	
</head>

<body>
	<div id="graphic1" class="box"></div>
	<div id="graphic2" class="box"></div>
	<div id="graphic3" class="box"></div>
	<div id="msg" class="box">end</div>
	<script>
			$(function() {

					$(window).scroll(function() {		
						var getYzahyo = $(this).scrollTop();		/*最初の要素の現在のスクロール上の上位置を取得します。*/
						console.log(getYzahyo);
						
						$('#graphic1').css('background-position', '0 '+getYzahyo+'px');
						if (getYzahyo > 1200) {
							$('#graphic2').css('background-position', '0 '+(getYzahyo-1200)+'px');
						} else {
							$('#graphic2').css('background-position', '0 0');
						}
						if (getYzahyo > 2400) {
							$('#graphic3').css('background-position', '0 '+(getYzahyo-2400)*2+'px');
						} else {
							$('#graphic3').css('background-position', '0 0');
						}
						
						if (getYzahyo > 2400) {
							$('#msg').css('opacity', (getYzahyo-2400)/1200);
							$('#msg').css('top', 200)
							var getXzahyo = (getYzahyo-2400) > 500 ? 500: (getYzahyo-2400);
							$('#msg').css('left', getXzahyo);
						} else {
							$('#msg').css('opacity', 0);
						}
						
					});
			});
	</script>


</body>
</html>
